@startuml
title Diagrama de Sequência - Autenticação de Usuário

!theme spacelab

actor Usuário
participant "Frontend (React)" as FE
participant "Backend (Express)" as BE
database "Banco de Dados (PostgreSQL)" as DB

Usuário -> FE : Preenche e-mail e senha
Usuário -> FE : Clica em "Entrar"
activate FE

FE -> BE : POST /login com {email, senha}
activate BE

BE -> DB : SELECT * FROM usuarios WHERE email = ?
activate DB
DB --> BE : Retorna dados do usuário (ou nulo)
deactivate DB

BE -> BE : Compara hash da senha enviada com a do banco
BE -> BE : Gera Token JWT

BE --> FE : Retorna { token, dadosDoUsuario }
deactivate BE

FE -> FE : Armazena o token no navegador
FE -> Usuário : Redireciona para a página principal
deactivate FE

@enduml